@startuml
title 欠席連絡システムのデータフロー図

entity 保護者
entity LINE
entity 事務局
entity データベース

rectangle システム {
    usecase 欠席情報登録
    usecase 振替可能日時検索
    usecase 定員確認
    usecase 振替申請処理
    usecase 通知送信
}

保護者 --> 欠席情報登録: 欠席連絡
欠席情報登録 --> データベース: 欠席情報
欠席情報登録 --> システム: 欠席受付確認
システム --> LINE: 欠席受付確認
保護者 --> システム: 振替希望日時
システム --> 振替可能日時検索: 授業ID
振替可能日時検索 --> システム: 振替可能日時一覧
システム --> LINE: 振替可能日時一覧
保護者 --> システム: 振替申請
システム --> 振替申請処理: 子供ID
振替申請処理 --> データベース: 振替情報更新
振替申請処理 --> 事務局: 振替申請
事務局 --> 振替申請処理: 承認/否認
データベース --> 定員確認
データベース --> 振替可能日時検索
システム --> LINE: 振替確定通知/否認通知

@enduml